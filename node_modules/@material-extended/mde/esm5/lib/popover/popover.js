/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output, TemplateRef, ViewChild, ViewEncapsulation, ElementRef, ChangeDetectionStrategy, HostBinding, NgZone } from '@angular/core';
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { ESCAPE } from '@angular/cdk/keycodes';
import { throwMdePopoverInvalidPositionX, throwMdePopoverInvalidPositionY } from './popover-errors';
import { transformPopover } from './popover-animations';
var MdePopover = /** @class */ (function () {
    function MdePopover(_elementRef, zone) {
        this._elementRef = _elementRef;
        this.zone = zone;
        // tslint:disable-line:component-class-suffix
        this.role = 'dialog';
        /**
         * Settings for popover, view setters and getters for more detail
         */
        this._positionX = 'after';
        this._positionY = 'below';
        this._triggerEvent = 'hover';
        this._enterDelay = 200;
        this._leaveDelay = 200;
        this._overlapTrigger = true;
        this._disableAnimation = false;
        this._targetOffsetX = 0;
        this._targetOffsetY = 0;
        this._arrowOffsetX = 20;
        this._arrowWidth = 8;
        this._arrowColor = 'rgba(0, 0, 0, 0.12)';
        this._closeOnClick = true;
        this._focusTrapEnabled = true;
        this._focusTrapAutoCaptureEnabled = true;
        /**
         * Config object to be passed into the popover's ngClass
         */
        this._classList = {};
        // TODO: Write comment description
        /**
         *
         */
        this.containerPositioning = false;
        /**
         * Closing disabled on popover
         */
        this.closeDisabled = false;
        /**
         * Emits the current animation state whenever it changes.
         */
        this._onAnimationStateChange = new EventEmitter();
        /**
         * Event emitted when the popover is closed.
         */
        this.close = new EventEmitter();
        this.setPositionClasses();
    }
    Object.defineProperty(MdePopover.prototype, "positionX", {
        /** Position of the popover in the X axis. */
        get: /**
         * Position of the popover in the X axis.
         * @return {?}
         */
        function () { return this._positionX; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value !== 'before' && value !== 'after') {
                throwMdePopoverInvalidPositionX();
            }
            this._positionX = value;
            this.setPositionClasses();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "positionY", {
        /** Position of the popover in the Y axis. */
        get: /**
         * Position of the popover in the Y axis.
         * @return {?}
         */
        function () { return this._positionY; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value !== 'above' && value !== 'below') {
                throwMdePopoverInvalidPositionY();
            }
            this._positionY = value;
            this.setPositionClasses();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "triggerEvent", {
        /** Popover trigger event */
        get: /**
         * Popover trigger event
         * @return {?}
         */
        function () { return this._triggerEvent; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._triggerEvent = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "enterDelay", {
        /** Popover enter delay */
        get: /**
         * Popover enter delay
         * @return {?}
         */
        function () { return this._enterDelay; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._enterDelay = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "leaveDelay", {
        /** Popover leave delay */
        get: /**
         * Popover leave delay
         * @return {?}
         */
        function () { return this._leaveDelay; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._leaveDelay = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "overlapTrigger", {
        /** Popover overlap trigger */
        get: /**
         * Popover overlap trigger
         * @return {?}
         */
        function () { return this._overlapTrigger; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._overlapTrigger = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "targetOffsetX", {
        /** Popover target offset x */
        get: /**
         * Popover target offset x
         * @return {?}
         */
        function () { return this._targetOffsetX; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._targetOffsetX = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "targetOffsetY", {
        /** Popover target offset y */
        get: /**
         * Popover target offset y
         * @return {?}
         */
        function () { return this._targetOffsetY; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._targetOffsetY = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowOffsetX", {
        /** Popover arrow offset x */
        get: /**
         * Popover arrow offset x
         * @return {?}
         */
        function () { return this._arrowOffsetX; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._arrowOffsetX = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowWidth", {
        /** Popover arrow width */
        get: /**
         * Popover arrow width
         * @return {?}
         */
        function () { return this._arrowWidth; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._arrowWidth = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowColor", {
        /** Popover arrow color */
        get: /**
         * Popover arrow color
         * @return {?}
         */
        function () { return this._arrowColor; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._arrowColor = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "closeOnClick", {
        /**
         * Popover container close on click
         * default: true
         */
        get: /**
         * Popover container close on click
         * default: true
         * @return {?}
         */
        function () { return this._closeOnClick; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._closeOnClick = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "disableAnimation", {
        /**
         * Disable animations of popover and all child elements
         * default: false
         */
        get: /**
         * Disable animations of popover and all child elements
         * default: false
         * @return {?}
         */
        function () { return this._disableAnimation; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._disableAnimation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "focusTrapEnabled", {
        /**
         * Popover focus trap using cdkTrapFocus
         * default: true
         */
        get: /**
         * Popover focus trap using cdkTrapFocus
         * default: true
         * @return {?}
         */
        function () { return this._focusTrapEnabled; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._focusTrapEnabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "focusTrapAutoCaptureEnabled", {
        /**
         * Popover focus trap auto capture using cdkTrapFocusAutoCapture
         * default: true
         */
        get: /**
         * Popover focus trap auto capture using cdkTrapFocusAutoCapture
         * default: true
         * @return {?}
         */
        function () { return this._focusTrapAutoCaptureEnabled; },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) { this._focusTrapAutoCaptureEnabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "panelClass", {
        /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @param classes list of class names
         */
        set: /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @param {?} classes list of class names
         * @return {?}
         */
        function (classes) {
            if (classes && classes.length) {
                this._classList = classes.split(' ').reduce((/**
                 * @param {?} obj
                 * @param {?} className
                 * @return {?}
                 */
                function (obj, className) {
                    obj[className] = true;
                    return obj;
                }), {});
                this._elementRef.nativeElement.className = '';
                this.setPositionClasses();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "classList", {
        /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @deprecated Use `panelClass` instead.
         */
        get: /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @deprecated Use `panelClass` instead.
         * @return {?}
         */
        function () { return this.panelClass; },
        set: /**
         * @param {?} classes
         * @return {?}
         */
        function (classes) { this.panelClass = classes; },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MdePopover.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this._emitCloseEvent();
        this.close.complete();
    };
    /** Handle a keyboard event from the popover, delegating to the appropriate action. */
    /**
     * Handle a keyboard event from the popover, delegating to the appropriate action.
     * @param {?} event
     * @return {?}
     */
    MdePopover.prototype._handleKeydown = /**
     * Handle a keyboard event from the popover, delegating to the appropriate action.
     * @param {?} event
     * @return {?}
     */
    function (event) {
        switch (event.keyCode) {
            case ESCAPE:
                this._emitCloseEvent();
                return;
        }
    };
    /**
     * This emits a close event to which the trigger is subscribed. When emitted, the
     * trigger will close the popover.
     */
    /**
     * This emits a close event to which the trigger is subscribed. When emitted, the
     * trigger will close the popover.
     * @return {?}
     */
    MdePopover.prototype._emitCloseEvent = /**
     * This emits a close event to which the trigger is subscribed. When emitted, the
     * trigger will close the popover.
     * @return {?}
     */
    function () {
        this.close.emit();
    };
    /** Close popover on click if closeOnClick is true */
    /**
     * Close popover on click if closeOnClick is true
     * @return {?}
     */
    MdePopover.prototype.onClick = /**
     * Close popover on click if closeOnClick is true
     * @return {?}
     */
    function () {
        if (this.closeOnClick) {
            this._emitCloseEvent();
        }
    };
    /**
     * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.
     * https://github.com/angular/material2/pull/5493#issuecomment-313085323
     */
    /** Disables close of popover when leaving trigger element and mouse over the popover */
    /**
       * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.
       * https://github.com/angular/material2/pull/5493#issuecomment-313085323
       */
    /**
     * Disables close of popover when leaving trigger element and mouse over the popover
     * @return {?}
     */
    MdePopover.prototype.onMouseOver = /**
       * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.
       * https://github.com/angular/material2/pull/5493#issuecomment-313085323
       */
    /**
     * Disables close of popover when leaving trigger element and mouse over the popover
     * @return {?}
     */
    function () {
        if (this.triggerEvent === 'hover') {
            this.closeDisabled = true;
        }
    };
    /** Enables close of popover when mouse leaving popover element */
    /**
     * Enables close of popover when mouse leaving popover element
     * @return {?}
     */
    MdePopover.prototype.onMouseLeave = /**
     * Enables close of popover when mouse leaving popover element
     * @return {?}
     */
    function () {
        if (this.triggerEvent === 'hover') {
            this.closeDisabled = false;
            this._emitCloseEvent();
        }
    };
    // TODO: Refactor how styles are set and updated on the component, use best practices.
    // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.
    /** Sets the current styles for the popover to allow for dynamically changing settings */
    // TODO: Refactor how styles are set and updated on the component, use best practices.
    // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.
    /**
     * Sets the current styles for the popover to allow for dynamically changing settings
     * @return {?}
     */
    MdePopover.prototype.setCurrentStyles = 
    // TODO: Refactor how styles are set and updated on the component, use best practices.
    // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.
    /**
     * Sets the current styles for the popover to allow for dynamically changing settings
     * @return {?}
     */
    function () {
        // TODO: See if arrow position can be calculated automatically and allow override.
        // TODO: See if flex order is a better alternative to position arrow top or bottom.
        this.popoverArrowStyles = {
            'right': this.positionX === 'before' ? (this.arrowOffsetX - this.arrowWidth) + 'px' : '',
            'left': this.positionX === 'after' ? (this.arrowOffsetX - this.arrowWidth) + 'px' : '',
            'border-top': this.positionY === 'below' ?
                this.arrowWidth + 'px solid ' + this.arrowColor : '0px solid transparent',
            'border-right': 'undefined' === undefined ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
            'border-bottom': this.positionY === 'above' ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
            'border-left': 'undefined' === undefined ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
        };
        // TODO: Remove if flex order is added.
        this.popoverContentStyles = {
            'padding-top': this.overlapTrigger === true ? '0px' : this.arrowWidth + 'px',
            'padding-bottom': this.overlapTrigger === true ? '0px' : (this.arrowWidth) + 'px',
            'margin-top': this.overlapTrigger === false && this.positionY === 'below' && this.containerPositioning === false ?
                -(this.arrowWidth * 2) + 'px' : '0px'
        };
    };
    /**
     * It's necessary to set position-based classes to ensure the popover panel animation
     * folds out from the correct direction.
     */
    /**
     * It's necessary to set position-based classes to ensure the popover panel animation
     * folds out from the correct direction.
     * @param {?=} posX
     * @param {?=} posY
     * @return {?}
     */
    MdePopover.prototype.setPositionClasses = /**
     * It's necessary to set position-based classes to ensure the popover panel animation
     * folds out from the correct direction.
     * @param {?=} posX
     * @param {?=} posY
     * @return {?}
     */
    function (posX, posY) {
        if (posX === void 0) { posX = this.positionX; }
        if (posY === void 0) { posY = this.positionY; }
        this._classList['mde-popover-before'] = posX === 'before';
        this._classList['mde-popover-after'] = posX === 'after';
        this._classList['mde-popover-above'] = posY === 'above';
        this._classList['mde-popover-below'] = posY === 'below';
    };
    MdePopover.decorators = [
        { type: Component, args: [{
                    selector: 'mde-popover',
                    template: "<ng-template>\r\n  <div class=\"mde-popover-panel\" role=\"dialog\" [class.mde-popover-overlap]=\"overlapTrigger\"\r\n       [ngClass]=\"_classList\" [ngStyle]=\"popoverPanelStyles\" (keydown)=\"_handleKeydown($event)\"\r\n       (click)=\"onClick()\" (mouseover)=\"onMouseOver()\" (mouseleave)=\"onMouseLeave()\" [@.disabled]=\"disableAnimation\"\r\n       [@transformPopover]=\"'enter'\">\r\n    <div class=\"mde-popover-direction-arrow\" [ngStyle]=\"popoverArrowStyles\" *ngIf=\"!overlapTrigger\"></div>\r\n    <div class=\"mde-popover-content\" [ngStyle]=\"popoverContentStyles\" [cdkTrapFocus]=\"focusTrapEnabled\" [cdkTrapFocusAutoCapture]=\"focusTrapAutoCaptureEnabled\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n",
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    encapsulation: ViewEncapsulation.None,
                    animations: [
                        transformPopover
                    ],
                    exportAs: 'mdePopover',
                    styles: [".mde-popover-panel{display:flex;flex-direction:column;max-height:calc(100vh + 48px)}.mde-popover-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mde-popover-below .mde-popover-direction-arrow{position:absolute;bottom:0;width:0;height:0;border-bottom-width:0!important;z-index:99999}.mde-popover-above .mde-popover-direction-arrow{position:absolute;top:0;width:0;height:0;border-top-width:0!important;z-index:99999}.mde-popover-after .mde-popover-direction-arrow{left:20px}.mde-popover-before .mde-popover-direction-arrow{right:20px}"]
                }] }
    ];
    /** @nocollapse */
    MdePopover.ctorParameters = function () { return [
        { type: ElementRef },
        { type: NgZone }
    ]; };
    MdePopover.propDecorators = {
        role: [{ type: HostBinding, args: ['attr.role',] }],
        positionX: [{ type: Input, args: ['mdePopoverPositionX',] }],
        positionY: [{ type: Input, args: ['mdePopoverPositionY',] }],
        triggerEvent: [{ type: Input, args: ['mdePopoverTriggerOn',] }],
        enterDelay: [{ type: Input, args: ['mdePopoverEnterDelay',] }],
        leaveDelay: [{ type: Input, args: ['mdePopoverLeaveDelay',] }],
        overlapTrigger: [{ type: Input, args: ['mdePopoverOverlapTrigger',] }],
        targetOffsetX: [{ type: Input, args: ['mdePopoverOffsetX',] }],
        targetOffsetY: [{ type: Input, args: ['mdePopoverOffsetY',] }],
        arrowOffsetX: [{ type: Input, args: ['mdePopoverArrowOffsetX',] }],
        arrowWidth: [{ type: Input, args: ['mdePopoverArrowWidth',] }],
        arrowColor: [{ type: Input, args: ['mdePopoverArrowColor',] }],
        closeOnClick: [{ type: Input, args: ['mdePopoverCloseOnClick',] }],
        disableAnimation: [{ type: Input, args: ['mdePopoverDisableAnimation',] }],
        focusTrapEnabled: [{ type: Input, args: ['mdeFocusTrapEnabled',] }],
        focusTrapAutoCaptureEnabled: [{ type: Input, args: ['mdeFocusTrapAutoCaptureEnabled',] }],
        panelClass: [{ type: Input, args: ['class',] }],
        classList: [{ type: Input }],
        close: [{ type: Output }],
        templateRef: [{ type: ViewChild, args: [TemplateRef, { static: false },] }]
    };
    return MdePopover;
}());
export { MdePopover };
if (false) {
    /** @type {?} */
    MdePopover.prototype.role;
    /**
     * Settings for popover, view setters and getters for more detail
     * @type {?}
     * @private
     */
    MdePopover.prototype._positionX;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._positionY;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._triggerEvent;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._enterDelay;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._leaveDelay;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._overlapTrigger;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._disableAnimation;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._targetOffsetX;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._targetOffsetY;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._arrowOffsetX;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._arrowWidth;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._arrowColor;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._closeOnClick;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._focusTrapEnabled;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._focusTrapAutoCaptureEnabled;
    /**
     * Config object to be passed into the popover's ngClass
     * @type {?}
     */
    MdePopover.prototype._classList;
    /**
     *
     * @type {?}
     */
    MdePopover.prototype.containerPositioning;
    /**
     * Closing disabled on popover
     * @type {?}
     */
    MdePopover.prototype.closeDisabled;
    /**
     * Config object to be passed into the popover's arrow ngStyle
     * @type {?}
     */
    MdePopover.prototype.popoverPanelStyles;
    /**
     * Config object to be passed into the popover's arrow ngStyle
     * @type {?}
     */
    MdePopover.prototype.popoverArrowStyles;
    /**
     * Config object to be passed into the popover's content ngStyle
     * @type {?}
     */
    MdePopover.prototype.popoverContentStyles;
    /**
     * Emits the current animation state whenever it changes.
     * @type {?}
     */
    MdePopover.prototype._onAnimationStateChange;
    /**
     * Event emitted when the popover is closed.
     * @type {?}
     */
    MdePopover.prototype.close;
    /** @type {?} */
    MdePopover.prototype.templateRef;
    /**
     * @type {?}
     * @private
     */
    MdePopover.prototype._elementRef;
    /** @type {?} */
    MdePopover.prototype.zone;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wb3Zlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BtYXRlcmlhbC1leHRlbmRlZC9tZGUvIiwic291cmNlcyI6WyJsaWIvcG9wb3Zlci9wb3BvdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUNOLFdBQVcsRUFDWCxTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLFVBQVUsRUFDVix1QkFBdUIsRUFDdkIsV0FBVyxFQUNYLE1BQU0sRUFDUCxNQUFNLGVBQWUsQ0FBQztBQUl2QixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFHL0MsT0FBTyxFQUFFLCtCQUErQixFQUFFLCtCQUErQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFcEcsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEQ7SUE0TEUsb0JBQW9CLFdBQXVCLEVBQVMsSUFBWTtRQUE1QyxnQkFBVyxHQUFYLFdBQVcsQ0FBWTtRQUFTLFNBQUksR0FBSixJQUFJLENBQVE7O1FBL0t0QyxTQUFJLEdBQUcsUUFBUSxDQUFDOzs7O1FBR2xDLGVBQVUsR0FBd0IsT0FBTyxDQUFDO1FBQzFDLGVBQVUsR0FBd0IsT0FBTyxDQUFDO1FBQzFDLGtCQUFhLEdBQTJCLE9BQU8sQ0FBQztRQUNoRCxnQkFBVyxHQUFHLEdBQUcsQ0FBQztRQUNsQixnQkFBVyxHQUFHLEdBQUcsQ0FBQztRQUNsQixvQkFBZSxHQUFHLElBQUksQ0FBQztRQUN2QixzQkFBaUIsR0FBRyxLQUFLLENBQUM7UUFDMUIsbUJBQWMsR0FBRyxDQUFDLENBQUM7UUFDbkIsbUJBQWMsR0FBRyxDQUFDLENBQUM7UUFDbkIsa0JBQWEsR0FBRyxFQUFFLENBQUM7UUFDbkIsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFDaEIs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Ozs7O0lBR2hDLDZDQUE2RDs7Ozs7SUFvSTdELDJCQUEyQzs7SUFFM0MsaUNBQXlFOzs7OztJQUU3RCxpQ0FBK0I7O0lBQUUsMEJBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIElucHV0LFxyXG4gIE9uRGVzdHJveSxcclxuICBPdXRwdXQsXHJcbiAgVGVtcGxhdGVSZWYsXHJcbiAgVmlld0NoaWxkLFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgSG9zdEJpbmRpbmcsXHJcbiAgTmdab25lXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBBbmltYXRpb25FdmVudCB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xyXG5cclxuaW1wb3J0IHsgY29lcmNlQm9vbGVhblByb3BlcnR5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcclxuaW1wb3J0IHsgRVNDQVBFIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2tleWNvZGVzJztcclxuXHJcbmltcG9ydCB7IE1kZVBvcG92ZXJQb3NpdGlvblgsIE1kZVBvcG92ZXJQb3NpdGlvblksIE1kZVBvcG92ZXJUcmlnZ2VyRXZlbnQgfSBmcm9tICcuL3BvcG92ZXItdHlwZXMnO1xyXG5pbXBvcnQgeyB0aHJvd01kZVBvcG92ZXJJbnZhbGlkUG9zaXRpb25YLCB0aHJvd01kZVBvcG92ZXJJbnZhbGlkUG9zaXRpb25ZIH0gZnJvbSAnLi9wb3BvdmVyLWVycm9ycyc7XHJcbmltcG9ydCB7IE1kZVBvcG92ZXJQYW5lbCB9IGZyb20gJy4vcG9wb3Zlci1pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgdHJhbnNmb3JtUG9wb3ZlciB9IGZyb20gJy4vcG9wb3Zlci1hbmltYXRpb25zJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbWRlLXBvcG92ZXInLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wb3BvdmVyLmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BvcG92ZXIuc2NzcyddLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgYW5pbWF0aW9uczogW1xyXG4gICAgdHJhbnNmb3JtUG9wb3ZlclxyXG4gIF0sXHJcbiAgZXhwb3J0QXM6ICdtZGVQb3BvdmVyJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgTWRlUG9wb3ZlciBpbXBsZW1lbnRzIE1kZVBvcG92ZXJQYW5lbCwgT25EZXN0cm95IHsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpjb21wb25lbnQtY2xhc3Mtc3VmZml4XHJcblxyXG4gIEBIb3N0QmluZGluZygnYXR0ci5yb2xlJykgcm9sZSA9ICdkaWFsb2cnO1xyXG5cclxuICAvKiogU2V0dGluZ3MgZm9yIHBvcG92ZXIsIHZpZXcgc2V0dGVycyBhbmQgZ2V0dGVycyBmb3IgbW9yZSBkZXRhaWwgKi9cclxuICBwcml2YXRlIF9wb3NpdGlvblg6IE1kZVBvcG92ZXJQb3NpdGlvblggPSAnYWZ0ZXInO1xyXG4gIHByaXZhdGUgX3Bvc2l0aW9uWTogTWRlUG9wb3ZlclBvc2l0aW9uWSA9ICdiZWxvdyc7XHJcbiAgcHJpdmF0ZSBfdHJpZ2dlckV2ZW50OiBNZGVQb3BvdmVyVHJpZ2dlckV2ZW50ID0gJ2hvdmVyJztcclxuICBwcml2YXRlIF9lbnRlckRlbGF5ID0gMjAwO1xyXG4gIHByaXZhdGUgX2xlYXZlRGVsYXkgPSAyMDA7XHJcbiAgcHJpdmF0ZSBfb3ZlcmxhcFRyaWdnZXIgPSB0cnVlO1xyXG4gIHByaXZhdGUgX2Rpc2FibGVBbmltYXRpb24gPSBmYWxzZTtcclxuICBwcml2YXRlIF90YXJnZXRPZmZzZXRYID0gMDtcclxuICBwcml2YXRlIF90YXJnZXRPZmZzZXRZID0gMDtcclxuICBwcml2YXRlIF9hcnJvd09mZnNldFggPSAyMDtcclxuICBwcml2YXRlIF9hcnJvd1dpZHRoID0gODtcclxuICBwcml2YXRlIF9hcnJvd0NvbG9yID0gJ3JnYmEoMCwgMCwgMCwgMC4xMiknO1xyXG4gIHByaXZhdGUgX2Nsb3NlT25DbGljayA9IHRydWU7XHJcbiAgcHJpdmF0ZSBfZm9jdXNUcmFwRW5hYmxlZCA9IHRydWU7XHJcbiAgcHJpdmF0ZSBfZm9jdXNUcmFwQXV0b0NhcHR1cmVFbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgLyoqIENvbmZpZyBvYmplY3QgdG8gYmUgcGFzc2VkIGludG8gdGhlIHBvcG92ZXIncyBuZ0NsYXNzICovXHJcbiAgX2NsYXNzTGlzdDoge1trZXk6IHN0cmluZ106IGJvb2xlYW59ID0ge307XHJcblxyXG4gIC8vIFRPRE86IFdyaXRlIGNvbW1lbnQgZGVzY3JpcHRpb25cclxuICAvKiogKi9cclxuICBwdWJsaWMgY29udGFpbmVyUG9zaXRpb25pbmcgPSBmYWxzZTtcclxuXHJcbiAgLyoqIENsb3NpbmcgZGlzYWJsZWQgb24gcG9wb3ZlciAqL1xyXG4gIHB1YmxpYyBjbG9zZURpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gIC8qKiBDb25maWcgb2JqZWN0IHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBwb3BvdmVyJ3MgYXJyb3cgbmdTdHlsZSAqL1xyXG4gIHB1YmxpYyBwb3BvdmVyUGFuZWxTdHlsZXM6IHt9O1xyXG5cclxuICAvKiogQ29uZmlnIG9iamVjdCB0byBiZSBwYXNzZWQgaW50byB0aGUgcG9wb3ZlcidzIGFycm93IG5nU3R5bGUgKi9cclxuICBwdWJsaWMgcG9wb3ZlckFycm93U3R5bGVzOiB7fTtcclxuXHJcbiAgLyoqIENvbmZpZyBvYmplY3QgdG8gYmUgcGFzc2VkIGludG8gdGhlIHBvcG92ZXIncyBjb250ZW50IG5nU3R5bGUgKi9cclxuICBwdWJsaWMgcG9wb3ZlckNvbnRlbnRTdHlsZXM6IHt9O1xyXG5cclxuICAvKiogRW1pdHMgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIHN0YXRlIHdoZW5ldmVyIGl0IGNoYW5nZXMuICovXHJcbiAgX29uQW5pbWF0aW9uU3RhdGVDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPEFuaW1hdGlvbkV2ZW50PigpO1xyXG5cclxuXHJcbiAgLyoqIFBvc2l0aW9uIG9mIHRoZSBwb3BvdmVyIGluIHRoZSBYIGF4aXMuICovXHJcbiAgQElucHV0KCdtZGVQb3BvdmVyUG9zaXRpb25YJylcclxuICBnZXQgcG9zaXRpb25YKCkgeyByZXR1cm4gdGhpcy5fcG9zaXRpb25YOyB9XHJcbiAgc2V0IHBvc2l0aW9uWCh2YWx1ZTogTWRlUG9wb3ZlclBvc2l0aW9uWCkge1xyXG4gICAgaWYgKHZhbHVlICE9PSAnYmVmb3JlJyAmJiB2YWx1ZSAhPT0gJ2FmdGVyJykge1xyXG4gICAgICB0aHJvd01kZVBvcG92ZXJJbnZhbGlkUG9zaXRpb25YKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9wb3NpdGlvblggPSB2YWx1ZTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb25DbGFzc2VzKCk7XHJcbiAgfVxyXG5cclxuICAvKiogUG9zaXRpb24gb2YgdGhlIHBvcG92ZXIgaW4gdGhlIFkgYXhpcy4gKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJQb3NpdGlvblknKVxyXG4gIGdldCBwb3NpdGlvblkoKSB7IHJldHVybiB0aGlzLl9wb3NpdGlvblk7IH1cclxuICBzZXQgcG9zaXRpb25ZKHZhbHVlOiBNZGVQb3BvdmVyUG9zaXRpb25ZKSB7XHJcbiAgICBpZiAodmFsdWUgIT09ICdhYm92ZScgJiYgdmFsdWUgIT09ICdiZWxvdycpIHtcclxuICAgICAgdGhyb3dNZGVQb3BvdmVySW52YWxpZFBvc2l0aW9uWSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fcG9zaXRpb25ZID0gdmFsdWU7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uQ2xhc3NlcygpO1xyXG4gIH1cclxuXHJcbiAgLyoqIFBvcG92ZXIgdHJpZ2dlciBldmVudCAqL1xyXG4gIEBJbnB1dCgnbWRlUG9wb3ZlclRyaWdnZXJPbicpXHJcbiAgZ2V0IHRyaWdnZXJFdmVudCgpOiBNZGVQb3BvdmVyVHJpZ2dlckV2ZW50IHsgcmV0dXJuIHRoaXMuX3RyaWdnZXJFdmVudDsgfVxyXG4gIHNldCB0cmlnZ2VyRXZlbnQodmFsdWU6IE1kZVBvcG92ZXJUcmlnZ2VyRXZlbnQpIHsgdGhpcy5fdHJpZ2dlckV2ZW50ID0gdmFsdWU7IH1cclxuXHJcbiAgLyoqIFBvcG92ZXIgZW50ZXIgZGVsYXkgKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJFbnRlckRlbGF5JylcclxuICBnZXQgZW50ZXJEZWxheSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fZW50ZXJEZWxheTsgfVxyXG4gIHNldCBlbnRlckRlbGF5KHZhbHVlOiBudW1iZXIpIHsgdGhpcy5fZW50ZXJEZWxheSA9IHZhbHVlOyB9XHJcblxyXG4gIC8qKiBQb3BvdmVyIGxlYXZlIGRlbGF5ICovXHJcbiAgQElucHV0KCdtZGVQb3BvdmVyTGVhdmVEZWxheScpXHJcbiAgZ2V0IGxlYXZlRGVsYXkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2xlYXZlRGVsYXk7IH1cclxuICBzZXQgbGVhdmVEZWxheSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuX2xlYXZlRGVsYXkgPSB2YWx1ZTsgfVxyXG5cclxuICAvKiogUG9wb3ZlciBvdmVybGFwIHRyaWdnZXIgKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJPdmVybGFwVHJpZ2dlcicpXHJcbiAgZ2V0IG92ZXJsYXBUcmlnZ2VyKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fb3ZlcmxhcFRyaWdnZXI7IH1cclxuICBzZXQgb3ZlcmxhcFRyaWdnZXIodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fb3ZlcmxhcFRyaWdnZXIgPSB2YWx1ZTsgfVxyXG5cclxuICAvKiogUG9wb3ZlciB0YXJnZXQgb2Zmc2V0IHggKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJPZmZzZXRYJylcclxuICBnZXQgdGFyZ2V0T2Zmc2V0WCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdGFyZ2V0T2Zmc2V0WDsgfVxyXG4gIHNldCB0YXJnZXRPZmZzZXRYKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5fdGFyZ2V0T2Zmc2V0WCA9IHZhbHVlOyB9XHJcblxyXG4gIC8qKiBQb3BvdmVyIHRhcmdldCBvZmZzZXQgeSAqL1xyXG4gIEBJbnB1dCgnbWRlUG9wb3Zlck9mZnNldFknKVxyXG4gIGdldCB0YXJnZXRPZmZzZXRZKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl90YXJnZXRPZmZzZXRZOyB9XHJcbiAgc2V0IHRhcmdldE9mZnNldFkodmFsdWU6IG51bWJlcikgeyB0aGlzLl90YXJnZXRPZmZzZXRZID0gdmFsdWU7IH1cclxuXHJcbiAgLyoqIFBvcG92ZXIgYXJyb3cgb2Zmc2V0IHggKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJBcnJvd09mZnNldFgnKVxyXG4gIGdldCBhcnJvd09mZnNldFgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2Fycm93T2Zmc2V0WDsgfVxyXG4gIHNldCBhcnJvd09mZnNldFgodmFsdWU6IG51bWJlcikgeyB0aGlzLl9hcnJvd09mZnNldFggPSB2YWx1ZTsgfVxyXG5cclxuICAvKiogUG9wb3ZlciBhcnJvdyB3aWR0aCAqL1xyXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckFycm93V2lkdGgnKVxyXG4gIGdldCBhcnJvd1dpZHRoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9hcnJvd1dpZHRoOyB9XHJcbiAgc2V0IGFycm93V2lkdGgodmFsdWU6IG51bWJlcikgeyB0aGlzLl9hcnJvd1dpZHRoID0gdmFsdWU7IH1cclxuXHJcbiAgLyoqIFBvcG92ZXIgYXJyb3cgY29sb3IgKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJBcnJvd0NvbG9yJylcclxuICBnZXQgYXJyb3dDb2xvcigpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fYXJyb3dDb2xvcjsgfVxyXG4gIHNldCBhcnJvd0NvbG9yKHZhbHVlOiBzdHJpbmcpIHsgdGhpcy5fYXJyb3dDb2xvciA9IHZhbHVlOyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBvcG92ZXIgY29udGFpbmVyIGNsb3NlIG9uIGNsaWNrXHJcbiAgICogZGVmYXVsdDogdHJ1ZVxyXG4gICAqL1xyXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckNsb3NlT25DbGljaycpXHJcbiAgZ2V0IGNsb3NlT25DbGljaygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2Nsb3NlT25DbGljazsgfVxyXG4gIHNldCBjbG9zZU9uQ2xpY2sodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fY2xvc2VPbkNsaWNrID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTsgfVxyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlIGFuaW1hdGlvbnMgb2YgcG9wb3ZlciBhbmQgYWxsIGNoaWxkIGVsZW1lbnRzXHJcbiAgICogZGVmYXVsdDogZmFsc2VcclxuICAgKi9cclxuICBASW5wdXQoJ21kZVBvcG92ZXJEaXNhYmxlQW5pbWF0aW9uJylcclxuICBnZXQgZGlzYWJsZUFuaW1hdGlvbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2Rpc2FibGVBbmltYXRpb247IH1cclxuICBzZXQgZGlzYWJsZUFuaW1hdGlvbih2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl9kaXNhYmxlQW5pbWF0aW9uID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTsgfVxyXG5cclxuICAvKipcclxuICAgKiBQb3BvdmVyIGZvY3VzIHRyYXAgdXNpbmcgY2RrVHJhcEZvY3VzXHJcbiAgICogZGVmYXVsdDogdHJ1ZVxyXG4gICAqL1xyXG4gIEBJbnB1dCgnbWRlRm9jdXNUcmFwRW5hYmxlZCcpXHJcbiAgZ2V0IGZvY3VzVHJhcEVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9mb2N1c1RyYXBFbmFibGVkOyB9XHJcbiAgc2V0IGZvY3VzVHJhcEVuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fZm9jdXNUcmFwRW5hYmxlZCA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2YWx1ZSk7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogUG9wb3ZlciBmb2N1cyB0cmFwIGF1dG8gY2FwdHVyZSB1c2luZyBjZGtUcmFwRm9jdXNBdXRvQ2FwdHVyZVxyXG4gICAqIGRlZmF1bHQ6IHRydWVcclxuICAgKi9cclxuICBASW5wdXQoJ21kZUZvY3VzVHJhcEF1dG9DYXB0dXJlRW5hYmxlZCcpXHJcbiAgZ2V0IGZvY3VzVHJhcEF1dG9DYXB0dXJlRW5hYmxlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2ZvY3VzVHJhcEF1dG9DYXB0dXJlRW5hYmxlZDsgfVxyXG4gIHNldCBmb2N1c1RyYXBBdXRvQ2FwdHVyZUVuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fZm9jdXNUcmFwQXV0b0NhcHR1cmVFbmFibGVkID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTsgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBjbGFzc2VzIHNldCBvbiB0aGUgaG9zdCBtZC1wb3BvdmVyIGVsZW1lbnQgYW5kIGFwcGxpZXMgdGhlbSBvbiB0aGVcclxuICAgKiBwb3BvdmVyIHRlbXBsYXRlIHRoYXQgZGlzcGxheXMgaW4gdGhlIG92ZXJsYXkgY29udGFpbmVyLiAgT3RoZXJ3aXNlLCBpdCdzIGRpZmZpY3VsdFxyXG4gICAqIHRvIHN0eWxlIHRoZSBjb250YWluaW5nIHBvcG92ZXIgZnJvbSBvdXRzaWRlIHRoZSBjb21wb25lbnQuXHJcbiAgICogQHBhcmFtIGNsYXNzZXMgbGlzdCBvZiBjbGFzcyBuYW1lc1xyXG4gICAqL1xyXG4gIEBJbnB1dCgnY2xhc3MnKVxyXG4gIHNldCBwYW5lbENsYXNzKGNsYXNzZXM6IHN0cmluZykge1xyXG4gICAgaWYgKGNsYXNzZXMgJiYgY2xhc3Nlcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5fY2xhc3NMaXN0ID0gY2xhc3Nlcy5zcGxpdCgnICcpLnJlZHVjZSgob2JqOiBhbnksIGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgb2JqW2NsYXNzTmFtZV0gPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgIH0sIHt9KTtcclxuXHJcbiAgICAgIHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc05hbWUgPSAnJztcclxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkNsYXNzZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIHRha2VzIGNsYXNzZXMgc2V0IG9uIHRoZSBob3N0IG1kLXBvcG92ZXIgZWxlbWVudCBhbmQgYXBwbGllcyB0aGVtIG9uIHRoZVxyXG4gICAqIHBvcG92ZXIgdGVtcGxhdGUgdGhhdCBkaXNwbGF5cyBpbiB0aGUgb3ZlcmxheSBjb250YWluZXIuICBPdGhlcndpc2UsIGl0J3MgZGlmZmljdWx0XHJcbiAgICogdG8gc3R5bGUgdGhlIGNvbnRhaW5pbmcgcG9wb3ZlciBmcm9tIG91dHNpZGUgdGhlIGNvbXBvbmVudC5cclxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHBhbmVsQ2xhc3NgIGluc3RlYWQuXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBnZXQgY2xhc3NMaXN0KCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnBhbmVsQ2xhc3M7IH1cclxuICBzZXQgY2xhc3NMaXN0KGNsYXNzZXM6IHN0cmluZykgeyB0aGlzLnBhbmVsQ2xhc3MgPSBjbGFzc2VzOyB9XHJcblxyXG4gIC8qKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIHBvcG92ZXIgaXMgY2xvc2VkLiAqL1xyXG4gIEBPdXRwdXQoKSBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgQFZpZXdDaGlsZChUZW1wbGF0ZVJlZiwgeyBzdGF0aWM6IGZhbHNlIH0pIHRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgem9uZTogTmdab25lKSB7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uQ2xhc3NlcygpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9lbWl0Q2xvc2VFdmVudCgpO1xyXG4gICAgdGhpcy5jbG9zZS5jb21wbGV0ZSgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKiBIYW5kbGUgYSBrZXlib2FyZCBldmVudCBmcm9tIHRoZSBwb3BvdmVyLCBkZWxlZ2F0aW5nIHRvIHRoZSBhcHByb3ByaWF0ZSBhY3Rpb24uICovXHJcbiAgX2hhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICBjYXNlIEVTQ0FQRTpcclxuICAgICAgICB0aGlzLl9lbWl0Q2xvc2VFdmVudCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgZW1pdHMgYSBjbG9zZSBldmVudCB0byB3aGljaCB0aGUgdHJpZ2dlciBpcyBzdWJzY3JpYmVkLiBXaGVuIGVtaXR0ZWQsIHRoZVxyXG4gICAqIHRyaWdnZXIgd2lsbCBjbG9zZSB0aGUgcG9wb3Zlci5cclxuICAgKi9cclxuICBfZW1pdENsb3NlRXZlbnQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNsb3NlLmVtaXQoKTtcclxuICB9XHJcblxyXG4gIC8qKiBDbG9zZSBwb3BvdmVyIG9uIGNsaWNrIGlmIGNsb3NlT25DbGljayBpcyB0cnVlICovXHJcbiAgb25DbGljaygpIHtcclxuICAgIGlmICh0aGlzLmNsb3NlT25DbGljaykge1xyXG4gICAgICB0aGlzLl9lbWl0Q2xvc2VFdmVudCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVE9ETzogUmVmYWN0b3Igd2hlbiBAYW5ndWxhci9jZGsgaW5jbHVkZXMgZmVhdHVyZSBJIG1lbnRpb25lZCBvbiBnaXRodWIgc2VlIGxpbmsgYmVsb3cuXHJcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWwyL3B1bGwvNTQ5MyNpc3N1ZWNvbW1lbnQtMzEzMDg1MzIzXHJcbiAgICovXHJcbiAgLyoqIERpc2FibGVzIGNsb3NlIG9mIHBvcG92ZXIgd2hlbiBsZWF2aW5nIHRyaWdnZXIgZWxlbWVudCBhbmQgbW91c2Ugb3ZlciB0aGUgcG9wb3ZlciAqL1xyXG4gIG9uTW91c2VPdmVyKCkge1xyXG4gICAgaWYgKHRoaXMudHJpZ2dlckV2ZW50ID09PSAnaG92ZXInKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKiBFbmFibGVzIGNsb3NlIG9mIHBvcG92ZXIgd2hlbiBtb3VzZSBsZWF2aW5nIHBvcG92ZXIgZWxlbWVudCAqL1xyXG4gIG9uTW91c2VMZWF2ZSgpIHtcclxuICAgIGlmICh0aGlzLnRyaWdnZXJFdmVudCA9PT0gJ2hvdmVyJykge1xyXG4gICAgICB0aGlzLmNsb3NlRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fZW1pdENsb3NlRXZlbnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRPRE86IFJlZmFjdG9yIGhvdyBzdHlsZXMgYXJlIHNldCBhbmQgdXBkYXRlZCBvbiB0aGUgY29tcG9uZW50LCB1c2UgYmVzdCBwcmFjdGljZXMuXHJcbiAgLy8gVE9ETzogSWYgYXJyb3cgbGVmdCBhbmQgcmlnaHQgcG9zaXRpb25pbmcgaXMgcmVxdWVzdGVkLCBzZWUgaWYgZmxleCBkaXJlY3Rpb24gY2FuIGJlIHVzZWQgdG8gd29yayB3aXRoIG9yZGVyLlxyXG4gIC8qKiBTZXRzIHRoZSBjdXJyZW50IHN0eWxlcyBmb3IgdGhlIHBvcG92ZXIgdG8gYWxsb3cgZm9yIGR5bmFtaWNhbGx5IGNoYW5naW5nIHNldHRpbmdzICovXHJcbiAgc2V0Q3VycmVudFN0eWxlcygpIHtcclxuXHJcbiAgICAvLyBUT0RPOiBTZWUgaWYgYXJyb3cgcG9zaXRpb24gY2FuIGJlIGNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBhbmQgYWxsb3cgb3ZlcnJpZGUuXHJcbiAgICAvLyBUT0RPOiBTZWUgaWYgZmxleCBvcmRlciBpcyBhIGJldHRlciBhbHRlcm5hdGl2ZSB0byBwb3NpdGlvbiBhcnJvdyB0b3Agb3IgYm90dG9tLlxyXG4gICAgdGhpcy5wb3BvdmVyQXJyb3dTdHlsZXMgPSB7XHJcbiAgICAgICdyaWdodCc6IHRoaXMucG9zaXRpb25YID09PSAnYmVmb3JlJyA/ICh0aGlzLmFycm93T2Zmc2V0WCAtIHRoaXMuYXJyb3dXaWR0aCkgKyAncHgnIDogJycsXHJcbiAgICAgICdsZWZ0JzogdGhpcy5wb3NpdGlvblggPT09ICdhZnRlcicgPyAodGhpcy5hcnJvd09mZnNldFggLSB0aGlzLmFycm93V2lkdGgpICsgJ3B4JyA6ICcnLFxyXG4gICAgICAnYm9yZGVyLXRvcCc6IHRoaXMucG9zaXRpb25ZID09PSAnYmVsb3cnID9cclxuICAgICAgICB0aGlzLmFycm93V2lkdGggKyAncHggc29saWQgJyArIHRoaXMuYXJyb3dDb2xvciA6ICcwcHggc29saWQgdHJhbnNwYXJlbnQnLFxyXG4gICAgICAnYm9yZGVyLXJpZ2h0JzogJ3VuZGVmaW5lZCcgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgdGhpcy5hcnJvd1dpZHRoICsgJ3B4IHNvbGlkICcgKyB0aGlzLmFycm93Q29sb3IgOlxyXG4gICAgICAgIHRoaXMuYXJyb3dXaWR0aCArICdweCBzb2xpZCB0cmFuc3BhcmVudCcsXHJcbiAgICAgICdib3JkZXItYm90dG9tJzogdGhpcy5wb3NpdGlvblkgPT09ICdhYm92ZScgP1xyXG4gICAgICAgIHRoaXMuYXJyb3dXaWR0aCArICdweCBzb2xpZCAnICsgdGhpcy5hcnJvd0NvbG9yIDpcclxuICAgICAgICB0aGlzLmFycm93V2lkdGggKyAncHggc29saWQgdHJhbnNwYXJlbnQnLFxyXG4gICAgICAnYm9yZGVyLWxlZnQnOiAndW5kZWZpbmVkJyA9PT0gdW5kZWZpbmVkID9cclxuICAgICAgICB0aGlzLmFycm93V2lkdGggKyAncHggc29saWQgJyArIHRoaXMuYXJyb3dDb2xvciA6XHJcbiAgICAgICAgdGhpcy5hcnJvd1dpZHRoICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcclxuICAgIH07XHJcblxyXG4gICAgLy8gVE9ETzogUmVtb3ZlIGlmIGZsZXggb3JkZXIgaXMgYWRkZWQuXHJcbiAgICB0aGlzLnBvcG92ZXJDb250ZW50U3R5bGVzID0ge1xyXG4gICAgICAncGFkZGluZy10b3AnOiB0aGlzLm92ZXJsYXBUcmlnZ2VyID09PSB0cnVlID8gJzBweCcgOiB0aGlzLmFycm93V2lkdGggKyAncHgnLFxyXG4gICAgICAncGFkZGluZy1ib3R0b20nOiB0aGlzLm92ZXJsYXBUcmlnZ2VyID09PSB0cnVlID8gJzBweCcgOiAodGhpcy5hcnJvd1dpZHRoKSArICdweCcsXHJcbiAgICAgICdtYXJnaW4tdG9wJzogdGhpcy5vdmVybGFwVHJpZ2dlciA9PT0gZmFsc2UgJiYgdGhpcy5wb3NpdGlvblkgPT09ICdiZWxvdycgJiYgdGhpcy5jb250YWluZXJQb3NpdGlvbmluZyA9PT0gZmFsc2UgP1xyXG4gICAgICAgIC0odGhpcy5hcnJvd1dpZHRoICogMikgKyAncHgnIDogJzBweCdcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJdCdzIG5lY2Vzc2FyeSB0byBzZXQgcG9zaXRpb24tYmFzZWQgY2xhc3NlcyB0byBlbnN1cmUgdGhlIHBvcG92ZXIgcGFuZWwgYW5pbWF0aW9uXHJcbiAgICogZm9sZHMgb3V0IGZyb20gdGhlIGNvcnJlY3QgZGlyZWN0aW9uLlxyXG4gICAqL1xyXG4gIHNldFBvc2l0aW9uQ2xhc3Nlcyhwb3NYID0gdGhpcy5wb3NpdGlvblgsIHBvc1kgPSB0aGlzLnBvc2l0aW9uWSk6IHZvaWQge1xyXG4gICAgdGhpcy5fY2xhc3NMaXN0WydtZGUtcG9wb3Zlci1iZWZvcmUnXSA9IHBvc1ggPT09ICdiZWZvcmUnO1xyXG4gICAgdGhpcy5fY2xhc3NMaXN0WydtZGUtcG9wb3Zlci1hZnRlciddID0gcG9zWCA9PT0gJ2FmdGVyJztcclxuICAgIHRoaXMuX2NsYXNzTGlzdFsnbWRlLXBvcG92ZXItYWJvdmUnXSA9IHBvc1kgPT09ICdhYm92ZSc7XHJcbiAgICB0aGlzLl9jbGFzc0xpc3RbJ21kZS1wb3BvdmVyLWJlbG93J10gPSBwb3NZID09PSAnYmVsb3cnO1xyXG4gIH1cclxufVxyXG4iXX0=