!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/overlay"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("@angular/animations"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi"),require("@angular/cdk/portal")):"function"==typeof define&&define.amd?define("@material-extended/mde",["exports","@angular/core","@angular/common","@angular/cdk/overlay","@angular/cdk/coercion","@angular/cdk/keycodes","@angular/animations","@angular/cdk/a11y","@angular/cdk/bidi","@angular/cdk/portal"],t):t(((e=e||self)["material-extended"]=e["material-extended"]||{},e["material-extended"].mde={}),e.ng.core,e.ng.common,e.ng.cdk.overlay,e.ng.cdk.coercion,e.ng.cdk.keycodes,e.ng.animations,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.portal)}(this,function(e,t,o,r,i,n,s,p,a,l){"use strict";function c(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,i,n=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(p){i={error:p}}finally{try{r&&!r.done&&(o=n["return"])&&o.call(n)}finally{if(i)throw i.error}}return s}var u=s.trigger("transformPopover",[s.state("enter",s.style({opacity:1,transform:"scale(1)"})),s.transition("void => *",[s.style({opacity:0,transform:"scale(0)"}),s.animate("200ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),s.transition("* => void",[s.animate("50ms 100ms linear",s.style({opacity:0}))])]),h=function(){function e(e,o){this._elementRef=e,this.zone=o,this.role="dialog",this._positionX="after",this._positionY="below",this._triggerEvent="hover",this._enterDelay=200,this._leaveDelay=200,this._overlapTrigger=!0,this._disableAnimation=!1,this._targetOffsetX=0,this._targetOffsetY=0,this._arrowOffsetX=20,this._arrowWidth=8,this._arrowColor="rgba(0, 0, 0, 0.12)",this._closeOnClick=!0,this._focusTrapEnabled=!0,this._focusTrapAutoCaptureEnabled=!0,this._classList={},this.containerPositioning=!1,this.closeDisabled=!1,this._onAnimationStateChange=new t.EventEmitter,this.close=new t.EventEmitter,this.setPositionClasses()}return Object.defineProperty(e.prototype,"positionX",{get:function(){return this._positionX},set:function(e){"before"!==e&&"after"!==e&&function(){throw Error('mdePopoverPositionX value must be either \'before\' or after\'.\n      Example: <mde-popover mdePopoverPositionX="before" #popover="mdePopover"></mde-popover>')}(),this._positionX=e,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionY",{get:function(){return this._positionY},set:function(e){"above"!==e&&"below"!==e&&function(){throw Error('mdePopoverPositionY value must be either \'above\' or below\'.\n      Example: <mde-popover mdePopoverPositionY="above" #popover="mdePopover"></mde-popover>')}(),this._positionY=e,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"triggerEvent",{get:function(){return this._triggerEvent},set:function(e){this._triggerEvent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enterDelay",{get:function(){return this._enterDelay},set:function(e){this._enterDelay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leaveDelay",{get:function(){return this._leaveDelay},set:function(e){this._leaveDelay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlapTrigger",{get:function(){return this._overlapTrigger},set:function(e){this._overlapTrigger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetOffsetX",{get:function(){return this._targetOffsetX},set:function(e){this._targetOffsetX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetOffsetY",{get:function(){return this._targetOffsetY},set:function(e){this._targetOffsetY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowOffsetX",{get:function(){return this._arrowOffsetX},set:function(e){this._arrowOffsetX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowWidth",{get:function(){return this._arrowWidth},set:function(e){this._arrowWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowColor",{get:function(){return this._arrowColor},set:function(e){this._arrowColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnClick",{get:function(){return this._closeOnClick},set:function(e){this._closeOnClick=i.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableAnimation",{get:function(){return this._disableAnimation},set:function(e){this._disableAnimation=i.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusTrapEnabled",{get:function(){return this._focusTrapEnabled},set:function(e){this._focusTrapEnabled=i.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusTrapAutoCaptureEnabled",{get:function(){return this._focusTrapAutoCaptureEnabled},set:function(e){this._focusTrapAutoCaptureEnabled=i.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelClass",{set:function(e){e&&e.length&&(this._classList=e.split(" ").reduce(function(e,t){return e[t]=!0,e},{}),this._elementRef.nativeElement.className="",this.setPositionClasses())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.panelClass},set:function(e){this.panelClass=e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._emitCloseEvent(),this.close.complete()},e.prototype._handleKeydown=function(e){switch(e.keyCode){case n.ESCAPE:return void this._emitCloseEvent()}},e.prototype._emitCloseEvent=function(){this.close.emit()},e.prototype.onClick=function(){this.closeOnClick&&this._emitCloseEvent()},e.prototype.onMouseOver=function(){"hover"===this.triggerEvent&&(this.closeDisabled=!0)},e.prototype.onMouseLeave=function(){"hover"===this.triggerEvent&&(this.closeDisabled=!1,this._emitCloseEvent())},e.prototype.setCurrentStyles=function(){this.popoverArrowStyles={right:"before"===this.positionX?this.arrowOffsetX-this.arrowWidth+"px":"",left:"after"===this.positionX?this.arrowOffsetX-this.arrowWidth+"px":"","border-top":"below"===this.positionY?this.arrowWidth+"px solid "+this.arrowColor:"0px solid transparent","border-right":this.arrowWidth+"px solid transparent","border-bottom":"above"===this.positionY?this.arrowWidth+"px solid "+this.arrowColor:this.arrowWidth+"px solid transparent","border-left":this.arrowWidth+"px solid transparent"},this.popoverContentStyles={"padding-top":!0===this.overlapTrigger?"0px":this.arrowWidth+"px","padding-bottom":!0===this.overlapTrigger?"0px":this.arrowWidth+"px","margin-top":!1===this.overlapTrigger&&"below"===this.positionY&&!1===this.containerPositioning?-2*this.arrowWidth+"px":"0px"}},e.prototype.setPositionClasses=function(e,t){void 0===e&&(e=this.positionX),void 0===t&&(t=this.positionY),this._classList["mde-popover-before"]="before"===e,this._classList["mde-popover-after"]="after"===e,this._classList["mde-popover-above"]="above"===t,this._classList["mde-popover-below"]="below"===t},e.decorators=[{type:t.Component,args:[{selector:"mde-popover",template:'<ng-template>\r\n  <div class="mde-popover-panel" role="dialog" [class.mde-popover-overlap]="overlapTrigger"\r\n       [ngClass]="_classList" [ngStyle]="popoverPanelStyles" (keydown)="_handleKeydown($event)"\r\n       (click)="onClick()" (mouseover)="onMouseOver()" (mouseleave)="onMouseLeave()" [@.disabled]="disableAnimation"\r\n       [@transformPopover]="\'enter\'">\r\n    <div class="mde-popover-direction-arrow" [ngStyle]="popoverArrowStyles" *ngIf="!overlapTrigger"></div>\r\n    <div class="mde-popover-content" [ngStyle]="popoverContentStyles" [cdkTrapFocus]="focusTrapEnabled" [cdkTrapFocusAutoCapture]="focusTrapAutoCaptureEnabled">\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,animations:[u],exportAs:"mdePopover",styles:[".mde-popover-panel{display:flex;flex-direction:column;max-height:calc(100vh + 48px)}.mde-popover-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mde-popover-below .mde-popover-direction-arrow{position:absolute;bottom:0;width:0;height:0;border-bottom-width:0!important;z-index:99999}.mde-popover-above .mde-popover-direction-arrow{position:absolute;top:0;width:0;height:0;border-top-width:0!important;z-index:99999}.mde-popover-after .mde-popover-direction-arrow{left:20px}.mde-popover-before .mde-popover-direction-arrow{right:20px}"]}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone}]},e.propDecorators={role:[{type:t.HostBinding,args:["attr.role"]}],positionX:[{type:t.Input,args:["mdePopoverPositionX"]}],positionY:[{type:t.Input,args:["mdePopoverPositionY"]}],triggerEvent:[{type:t.Input,args:["mdePopoverTriggerOn"]}],enterDelay:[{type:t.Input,args:["mdePopoverEnterDelay"]}],leaveDelay:[{type:t.Input,args:["mdePopoverLeaveDelay"]}],overlapTrigger:[{type:t.Input,args:["mdePopoverOverlapTrigger"]}],targetOffsetX:[{type:t.Input,args:["mdePopoverOffsetX"]}],targetOffsetY:[{type:t.Input,args:["mdePopoverOffsetY"]}],arrowOffsetX:[{type:t.Input,args:["mdePopoverArrowOffsetX"]}],arrowWidth:[{type:t.Input,args:["mdePopoverArrowWidth"]}],arrowColor:[{type:t.Input,args:["mdePopoverArrowColor"]}],closeOnClick:[{type:t.Input,args:["mdePopoverCloseOnClick"]}],disableAnimation:[{type:t.Input,args:["mdePopoverDisableAnimation"]}],focusTrapEnabled:[{type:t.Input,args:["mdeFocusTrapEnabled"]}],focusTrapAutoCaptureEnabled:[{type:t.Input,args:["mdeFocusTrapAutoCaptureEnabled"]}],panelClass:[{type:t.Input,args:["class"]}],classList:[{type:t.Input}],close:[{type:t.Output}],templateRef:[{type:t.ViewChild,args:[t.TemplateRef,{"static":!1}]}]},e}(),f=function(){function e(e,o,r,i,n){this._overlay=e,this._elementRef=o,this._viewContainerRef=r,this._dir=i,this._changeDetectorRef=n,this.ariaHaspopup=!0,this._overlayRef=null,this._popoverOpen=!1,this._halt=!1,this._openedByMouse=!1,this.backdropCloseOnClick=!0,this.opened=new t.EventEmitter,this.closed=new t.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this._checkPopover(),this._setCurrentConfig(),this.popover.close.subscribe(function(){return e.closePopover()})},e.prototype.ngOnDestroy=function(){this.destroyPopover()},e.prototype._setCurrentConfig=function(){"before"!==this.positionX&&"after"!==this.positionX||(this.popover.positionX=this.positionX),"above"!==this.positionY&&"below"!==this.positionY||(this.popover.positionY=this.positionY),this.triggerEvent&&(this.popover.triggerEvent=this.triggerEvent),this.enterDelay&&(this.popover.enterDelay=this.enterDelay),this.leaveDelay&&(this.popover.leaveDelay=this.leaveDelay),!0!==this.overlapTrigger&&!1!==this.overlapTrigger||(this.popover.overlapTrigger=this.overlapTrigger),this.targetOffsetX&&(this.popover.targetOffsetX=this.targetOffsetX),this.targetOffsetY&&(this.popover.targetOffsetY=this.targetOffsetY),this.arrowOffsetX&&(this.popover.arrowOffsetX=this.arrowOffsetX),this.arrowWidth&&(this.popover.arrowWidth=this.arrowWidth),this.arrowColor&&(this.popover.arrowColor=this.arrowColor),!0!==this.closeOnClick&&!1!==this.closeOnClick||(this.popover.closeOnClick=this.closeOnClick),this.popover.setCurrentStyles()},Object.defineProperty(e.prototype,"popoverOpen",{get:function(){return this._popoverOpen},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){"click"===this.popover.triggerEvent&&this.togglePopover()},e.prototype.onMouseEnter=function(e){var t=this;this._halt=!1,"hover"===this.popover.triggerEvent&&(this._mouseoverTimer=setTimeout(function(){t.openPopover()},this.popover.enterDelay))},e.prototype.onMouseLeave=function(e){var t=this;"hover"===this.popover.triggerEvent&&(this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null),this._popoverOpen?setTimeout(function(){t.popover.closeDisabled||t.closePopover()},this.popover.leaveDelay):this._halt=!0)},e.prototype.togglePopover=function(){return this._popoverOpen?this.closePopover():this.openPopover()},e.prototype.openPopover=function(){this._popoverOpen||this._halt||(this._createOverlay().attach(this._portal),"click"===this.triggerEvent&&!0===this.backdropCloseOnClick&&this._subscribeToBackdrop(),this._initPopover())},e.prototype.closePopover=function(){this._overlayRef&&(this._overlayRef.detach(),"click"===this.triggerEvent&&!0===this.backdropCloseOnClick&&this._backdropSubscription.unsubscribe(),this._resetPopover())},e.prototype.destroyPopover=function(){this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null,this._cleanUpSubscriptions())},e.prototype.focus=function(){this._elementRef.nativeElement.focus()},Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},enumerable:!0,configurable:!0}),e.prototype._subscribeToBackdrop=function(){var e=this;this._overlayRef&&(this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(){e.popover._emitCloseEvent()}))},e.prototype._initPopover=function(){this._setIsPopoverOpen(!0)},e.prototype._resetPopover=function(){this._setIsPopoverOpen(!1),this._openedByMouse||this.focus(),this._openedByMouse=!1},e.prototype._setIsPopoverOpen=function(e){this._popoverOpen=e,this._popoverOpen?this.opened.emit():this.closed.emit()},e.prototype._checkPopover=function(){this.popover||function(){throw Error('mde-popover-trigger: must pass in an mde-popover instance.\n\n    Example:\n      <mde-popover #popover="mdePopover"></mde-popover>\n      <button [mdePopoverTriggerFor]="popover"></button>')}()},e.prototype._createOverlay=function(){if(!this._overlayRef){this._portal=new l.TemplatePortal(this.popover.templateRef,this._viewContainerRef);var e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e)}return this._overlayRef},e.prototype._getOverlayConfig=function(){var e=new r.OverlayConfig;return e.positionStrategy=this._getPosition(),"click"===this.triggerEvent&&(e.hasBackdrop=!0,e.backdropClass="cdk-overlay-transparent-backdrop"),e.direction=this.dir,e.scrollStrategy=this._overlay.scrollStrategies.reposition(),e},e.prototype._subscribeToPositions=function(e){var t=this;this._positionSubscription=e.positionChanges.subscribe(function(e){var o="start"===e.connectionPair.overlayX?"after":"before",r="top"===e.connectionPair.overlayY?"below":"above";t.popover.overlapTrigger||(r="below"===r?"above":"below"),t._changeDetectorRef.markForCheck(),t.popover.zone.run(function(){t.popover.positionX=o,t.popover.positionY=r,t.popover.setCurrentStyles(),t.popover.setPositionClasses(o,r)})})},e.prototype._getPosition=function(){var e=c("before"===this.popover.positionX?["end","start"]:["start","end"],2),t=e[0],o=e[1],r=c("above"===this.popover.positionY?["bottom","top"]:["top","bottom"],2),i=r[0],n=r[1],s=i,p=n,a=t,l=o;this.popover.overlapTrigger||(s="top"===i?"bottom":"top",p="top"===n?"bottom":"top");var u=0,h=0;this.popover.targetOffsetX&&!isNaN(Number(this.popover.targetOffsetX))&&(u=Number(this.popover.targetOffsetX)),this.popover.targetOffsetY&&!isNaN(Number(this.popover.targetOffsetY))&&(h=Number(this.popover.targetOffsetY));var f=this._elementRef;return"undefined"!=typeof this.targetElement&&(this.popover.containerPositioning=!0,f=this.targetElement._elementRef),this._overlay.position().flexibleConnectedTo(f).withPositions([{originX:t,originY:s,overlayX:a,overlayY:i,offsetY:h},{originX:o,originY:s,overlayX:l,overlayY:i,offsetY:h},{originX:t,originY:p,overlayX:a,overlayY:n,offsetY:-h},{originX:o,originY:p,overlayX:l,overlayY:n,offsetY:-h}]).withDefaultOffsetX(u).withDefaultOffsetY(h)},e.prototype._cleanUpSubscriptions=function(){this._backdropSubscription&&this._backdropSubscription.unsubscribe(),this._positionSubscription&&this._positionSubscription.unsubscribe()},e.prototype._handleMousedown=function(e){e&&!p.isFakeMousedownFromScreenReader(e)&&(this._openedByMouse=!0)},e.decorators=[{type:t.Directive,args:[{selector:"[mdePopoverTriggerFor]",exportAs:"mdePopoverTrigger"}]}],e.ctorParameters=function(){return[{type:r.Overlay},{type:t.ElementRef},{type:t.ViewContainerRef},{type:a.Directionality,decorators:[{type:t.Optional}]},{type:t.ChangeDetectorRef}]},e.propDecorators={ariaHaspopup:[{type:t.HostBinding,args:["attr.aria-haspopup"]}],popover:[{type:t.Input,args:["mdePopoverTriggerFor"]}],targetElement:[{type:t.Input,args:["mdePopoverTargetAt"]}],positionX:[{type:t.Input,args:["mdePopoverPositionX"]}],positionY:[{type:t.Input,args:["mdePopoverPositionY"]}],triggerEvent:[{type:t.Input,args:["mdePopoverTriggerOn"]}],enterDelay:[{type:t.Input,args:["mdePopoverEnterDelay"]}],leaveDelay:[{type:t.Input,args:["mdePopoverLeaveDelay"]}],overlapTrigger:[{type:t.Input,args:["mdePopoverOverlapTrigger"]}],targetOffsetX:[{type:t.Input,args:["mdePopoverOffsetX"]}],targetOffsetY:[{type:t.Input,args:["mdePopoverOffsetY"]}],arrowOffsetX:[{type:t.Input,args:["mdePopoverArrowOffsetX"]}],arrowWidth:[{type:t.Input,args:["mdePopoverArrowWidth"]}],arrowColor:[{type:t.Input,args:["mdePopoverArrowColor"]}],closeOnClick:[{type:t.Input,args:["mdePopoverCloseOnClick"]}],backdropCloseOnClick:[{type:t.Input,args:["mdePopoverBackdropCloseOnClick"]}],opened:[{type:t.Output}],closed:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click",["$event"]]}],onMouseEnter:[{type:t.HostListener,args:["mouseenter",["$event"]]}],onMouseLeave:[{type:t.HostListener,args:["mouseleave",["$event"]]}],_handleMousedown:[{type:t.HostListener,args:["mousedown",["$event"]]}]},e}(),v=function(){function e(e){this._elementRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"mde-popover-target, [mdePopoverTarget]",exportAs:"mdePopoverTarget"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}(),d=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.OverlayModule,o.CommonModule,p.A11yModule],exports:[h,f,v],declarations:[h,f,v]}]}],e}();e.MdePopover=h,e.MdePopoverModule=d,e.MdePopoverTarget=v,e.MdePopoverTrigger=f,e.transformPopover=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=material-extended-mde.umd.min.js.map